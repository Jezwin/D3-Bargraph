(function (d3) {
  'use strict';

  const svg = d3.select('svg');
  const height = +svg.attr('height');
  const width = +svg.attr('width');

  const render = data => {
    
    const title = 'Top 10 populous countries';
    
    //Value accessors. Limits the specifity of code to xValue and yValue
    const xValue = d => d.population;
    const xAxisLabel = 'Population';
    const yValue = d => d.country;
    const yAxisLabel = 'Country';
    
    const margin = {top: 60, right: 40, bottom: 70, left: 180};
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    
    //Maps values from domain to corresponding values in range(Data Space to Screen Space)
    const xScale = d3.scaleLinear()
    	.domain([0, d3.max(data, xValue)])
    	.range([0, innerWidth])
    	.nice(); //Smooth edging of axes
    
    //Separate the bars and determine their heights
    const yScale = d3.scaleBand()
    	.domain(data.map(yValue))
    	.range([0, innerHeight])
    	.padding(0.1);
    
    //The axes space
    const g = svg.append('g')
    	.attr('transform', 'translate('+margin.left+', '+margin.top+')');
    
    //Formatting numbers
    const xAxisTickFormat = number =>
    	d3.format('.3s')(number)
    		.replace('G', 'B');
   
    const xAxis =  d3.axisBottom(xScale)
    	.tickFormat(xAxisTickFormat)
    	//The vertical grid
    	.tickSize(-innerHeight)
    	.tickPadding(10); //Label distance from X axis
    
    
    const yAxis = d3.axisLeft(yScale)
    	//The horizontal grid
    	.tickSize(-innerWidth)
    	.tickPadding(10); //Label distance from Y axis;
    
    
    //Call to Y axis
    const yAxisG = g.append('g').call(yAxis);
    //Remove '.tick line' to show the horizontal grid
    yAxisG.selectAll('.domain, .tick line').remove();
    
  	yAxisG.append('text')
    	.attr('y', -110)
    	.attr('class', 'axis-label')
    	.attr('x', -innerHeight/2)
    	.attr('fill', 'black')
    	.attr('transform', 'rotate(-90)')
    	.attr('text-anchor', 'middle')
    	.text(yAxisLabel);
    
    //Call to X axis
    const xAxisG = g.append('g').call(xAxis)
    	.attr('transform', 'translate(0, '+innerHeight+')');
    
    // Remove lines and ticks(not ticks in this)
    xAxisG.select('.domain').remove();
    
    xAxisG.append('text')
    	.attr('y', 60)
    	.attr('class', 'axis-label')
    	.attr('x', innerWidth/2)
    	.attr('fill', 'black')
    	.text(xAxisLabel);
    
  	g.selectAll('rect').data(data)
    	.enter().append('rect')
    	.attr('y', d => yScale(yValue(d)))
    	.attr('width', d => xScale(xValue(d)))
    	.attr('height', yScale.bandwidth());
    g.append('text')
    	.attr('class', 'title')
    	.attr('y', -10)
    	.text(title);
  };

  d3.csv('data.csv').then(data => { 
    //Returns a promise that resolves when data is loaded
    data.forEach(d => {
    d.population = +d.population*1000;
    });
   render(data);
  });

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHNlbGVjdCwgXG4gIGNzdiwgXG4gIHNjYWxlTGluZWFyLCBcbiAgbWF4LFxuICBzY2FsZUJhbmQsXG4gIGF4aXNMZWZ0LFxuICBheGlzQm90dG9tLFxuICBmb3JtYXRcbn0gZnJvbSAnZDMnO1xuXG5jb25zdCBzdmcgPSBzZWxlY3QoJ3N2ZycpO1xuY29uc3QgaGVpZ2h0ID0gK3N2Zy5hdHRyKCdoZWlnaHQnKTtcbmNvbnN0IHdpZHRoID0gK3N2Zy5hdHRyKCd3aWR0aCcpO1xuXG5jb25zdCByZW5kZXIgPSBkYXRhID0+IHtcbiAgXG4gIGNvbnN0IHRpdGxlID0gJ1RvcCAxMCBwb3B1bG91cyBjb3VudHJpZXMnO1xuICBcbiAgLy9WYWx1ZSBhY2Nlc3NvcnMuIExpbWl0cyB0aGUgc3BlY2lmaXR5IG9mIGNvZGUgdG8geFZhbHVlIGFuZCB5VmFsdWVcbiAgY29uc3QgeFZhbHVlID0gZCA9PiBkLnBvcHVsYXRpb247XG4gIGNvbnN0IHhBeGlzTGFiZWwgPSAnUG9wdWxhdGlvbic7XG4gIGNvbnN0IHlWYWx1ZSA9IGQgPT4gZC5jb3VudHJ5O1xuICBjb25zdCB5QXhpc0xhYmVsID0gJ0NvdW50cnknO1xuICBcbiAgY29uc3QgbWFyZ2luID0ge3RvcDogNjAsIHJpZ2h0OiA0MCwgYm90dG9tOiA3MCwgbGVmdDogMTgwfTtcbiAgY29uc3QgaW5uZXJXaWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gIGNvbnN0IGlubmVySGVpZ2h0ID0gaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gIFxuICAvL01hcHMgdmFsdWVzIGZyb20gZG9tYWluIHRvIGNvcnJlc3BvbmRpbmcgdmFsdWVzIGluIHJhbmdlKERhdGEgU3BhY2UgdG8gU2NyZWVuIFNwYWNlKVxuICBjb25zdCB4U2NhbGUgPSBzY2FsZUxpbmVhcigpXG4gIFx0LmRvbWFpbihbMCwgbWF4KGRhdGEsIHhWYWx1ZSldKVxuICBcdC5yYW5nZShbMCwgaW5uZXJXaWR0aF0pXG4gIFx0Lm5pY2UoKTsgLy9TbW9vdGggZWRnaW5nIG9mIGF4ZXNcbiAgXG4gIC8vU2VwYXJhdGUgdGhlIGJhcnMgYW5kIGRldGVybWluZSB0aGVpciBoZWlnaHRzXG4gIGNvbnN0IHlTY2FsZSA9IHNjYWxlQmFuZCgpXG4gIFx0LmRvbWFpbihkYXRhLm1hcCh5VmFsdWUpKVxuICBcdC5yYW5nZShbMCwgaW5uZXJIZWlnaHRdKVxuICBcdC5wYWRkaW5nKDAuMSk7XG4gIFxuICAvL1RoZSBheGVzIHNwYWNlXG4gIGNvbnN0IGcgPSBzdmcuYXBwZW5kKCdnJylcbiAgXHQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnK21hcmdpbi5sZWZ0KycsICcrbWFyZ2luLnRvcCsnKScpO1xuICBcbiAgLy9Gb3JtYXR0aW5nIG51bWJlcnNcbiAgY29uc3QgeEF4aXNUaWNrRm9ybWF0ID0gbnVtYmVyID0+XG4gIFx0Zm9ybWF0KCcuM3MnKShudW1iZXIpXG4gIFx0XHQucmVwbGFjZSgnRycsICdCJyk7XG4gXG4gIGNvbnN0IHhBeGlzID0gIGF4aXNCb3R0b20oeFNjYWxlKVxuICBcdC50aWNrRm9ybWF0KHhBeGlzVGlja0Zvcm1hdClcbiAgXHQvL1RoZSB2ZXJ0aWNhbCBncmlkXG4gIFx0LnRpY2tTaXplKC1pbm5lckhlaWdodClcbiAgXHQudGlja1BhZGRpbmcoMTApOyAvL0xhYmVsIGRpc3RhbmNlIGZyb20gWCBheGlzXG4gIFxuICBcbiAgY29uc3QgeUF4aXMgPSBheGlzTGVmdCh5U2NhbGUpXG4gIFx0Ly9UaGUgaG9yaXpvbnRhbCBncmlkXG4gIFx0LnRpY2tTaXplKC1pbm5lcldpZHRoKVxuICBcdC50aWNrUGFkZGluZygxMCk7IC8vTGFiZWwgZGlzdGFuY2UgZnJvbSBZIGF4aXM7XG4gIFxuICBcbiAgLy9DYWxsIHRvIFkgYXhpc1xuICBjb25zdCB5QXhpc0cgPSBnLmFwcGVuZCgnZycpLmNhbGwoeUF4aXMpO1xuICAvL1JlbW92ZSAnLnRpY2sgbGluZScgdG8gc2hvdyB0aGUgaG9yaXpvbnRhbCBncmlkXG4gIHlBeGlzRy5zZWxlY3RBbGwoJy5kb21haW4sIC50aWNrIGxpbmUnKS5yZW1vdmUoKTtcbiAgXG5cdHlBeGlzRy5hcHBlbmQoJ3RleHQnKVxuICBcdC5hdHRyKCd5JywgLTExMClcbiAgXHQuYXR0cignY2xhc3MnLCAnYXhpcy1sYWJlbCcpXG4gIFx0LmF0dHIoJ3gnLCAtaW5uZXJIZWlnaHQvMilcbiAgXHQuYXR0cignZmlsbCcsICdibGFjaycpXG4gIFx0LmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoLTkwKScpXG4gIFx0LmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gIFx0LnRleHQoeUF4aXNMYWJlbCk7XG4gIFxuICAvL0NhbGwgdG8gWCBheGlzXG4gIGNvbnN0IHhBeGlzRyA9IGcuYXBwZW5kKCdnJykuY2FsbCh4QXhpcylcbiAgXHQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAnK2lubmVySGVpZ2h0KycpJyk7XG4gIFxuICAvLyBSZW1vdmUgbGluZXMgYW5kIHRpY2tzKG5vdCB0aWNrcyBpbiB0aGlzKVxuICB4QXhpc0cuc2VsZWN0KCcuZG9tYWluJykucmVtb3ZlKCk7XG4gIFxuICB4QXhpc0cuYXBwZW5kKCd0ZXh0JylcbiAgXHQuYXR0cigneScsIDYwKVxuICBcdC5hdHRyKCdjbGFzcycsICdheGlzLWxhYmVsJylcbiAgXHQuYXR0cigneCcsIGlubmVyV2lkdGgvMilcbiAgXHQuYXR0cignZmlsbCcsICdibGFjaycpXG4gIFx0LnRleHQoeEF4aXNMYWJlbCk7XG4gIFxuXHRnLnNlbGVjdEFsbCgncmVjdCcpLmRhdGEoZGF0YSlcbiAgXHQuZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxuICBcdC5hdHRyKCd5JywgZCA9PiB5U2NhbGUoeVZhbHVlKGQpKSlcbiAgXHQuYXR0cignd2lkdGgnLCBkID0+IHhTY2FsZSh4VmFsdWUoZCkpKVxuICBcdC5hdHRyKCdoZWlnaHQnLCB5U2NhbGUuYmFuZHdpZHRoKCkpXG4gIFxuICBjb25zdCB4VGl0bGUgPSBpbm5lcldpZHRoLzI7XG4gIGcuYXBwZW5kKCd0ZXh0JylcbiAgXHQuYXR0cignY2xhc3MnLCAndGl0bGUnKVxuICBcdC5hdHRyKCd5JywgLTEwKVxuICBcdC50ZXh0KHRpdGxlKTtcbn07XG5cbmNzdignZGF0YS5jc3YnKS50aGVuKGRhdGEgPT4geyBcbiAgLy9SZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gZGF0YSBpcyBsb2FkZWRcbiAgZGF0YS5mb3JFYWNoKGQgPT4ge1xuICBkLnBvcHVsYXRpb24gPSArZC5wb3B1bGF0aW9uKjEwMDA7XG4gIH0pO1xuIHJlbmRlcihkYXRhKVxufSk7XG5cbiJdLCJuYW1lcyI6WyJzZWxlY3QiLCJzY2FsZUxpbmVhciIsIm1heCIsInNjYWxlQmFuZCIsImZvcm1hdCIsImF4aXNCb3R0b20iLCJheGlzTGVmdCIsImNzdiJdLCJtYXBwaW5ncyI6Ijs7O0VBV0EsTUFBTSxHQUFHLEdBQUdBLFNBQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztFQUMxQixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7RUFDbkMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDOztFQUVqQyxNQUFNLE1BQU0sR0FBRyxJQUFJLElBQUk7O0lBRXJCLE1BQU0sS0FBSyxHQUFHLDJCQUEyQixDQUFDOzs7SUFHMUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUM7SUFDakMsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDO0lBQ2hDLE1BQU0sTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDO0lBQzlCLE1BQU0sVUFBVSxHQUFHLFNBQVMsQ0FBQzs7SUFFN0IsTUFBTSxNQUFNLEdBQUcsQ0FBQyxHQUFHLEVBQUUs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